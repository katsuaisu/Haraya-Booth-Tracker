<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Booth</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="app-container">
        <nav class="sidebar">
            <div class="logo-area">
                <h1>The Booth</h1>
                <p class="subtitle">Management Console</p>
            </div>
            <div class="nav-links">
                <button class="nav-btn active" onclick="switchTab('cashier')">
                    <span class="icon">üí≥</span> Cashier
                </button>
                <button class="nav-btn" onclick="switchTab('materials')">
                    <span class="icon">üì¶</span> Materials
                </button>
                <button class="nav-btn" onclick="switchTab('debt')">
                    <span class="icon">üìâ</span> Debt Tracker
                </button>
                <button class="nav-btn" onclick="switchTab('reminders')">
                    <span class="icon">üîî</span> Reminders
                </button>
            </div>
            <div class="data-controls">
                <div class="total-spent-display">
                    <label>Total Revenue</label>
                    <span id="global-total">‚Ç±0.00</span>
                </div>
                <button class="secondary-btn" onclick="exportData()">Export JSON</button>
                <button class="secondary-btn" onclick="triggerImport()">Import JSON</button>
                <input type="file" id="file-input" style="display: none;" onchange="importData(this)">
            </div>
        </nav>

        <main class="content-area">
            <div id="tab-cashier" class="tab-content active">
                <header class="tab-header">
                    <h2>New Transaction</h2>
                </header>
                <div class="split-view">
                    <div class="form-column">
                        <form id="transaction-form" onsubmit="handleTransactionSubmit(event)">
                            <input type="hidden" id="transaction-id" value="">
                            <div class="form-scrollable-content">
                                <div class="ios-section-title">Details</div>
                                <div class="ios-list">
                                    <div class="ios-row">
                                        <label>Client</label>
                                        <input type="text" id="client" required placeholder="Full Name">
                                    </div>
                                    <div class="ios-row">
                                        <label>Target</label>
                                        <input type="text" id="nominee" required placeholder="Target Name">
                                    </div>
                                    <div class="ios-row">
                                        <label>Section</label>
                                        <input type="text" id="section" placeholder="Target Section">
                                    </div>
                                    <div class="ios-row">
                                        <label>Batch</label>
                                        <div class="select-wrapper">
                                            <select id="batch" required class="ios-select">
                                                <option value="2031">2031</option>
                                                <option value="2030">2030</option>
                                                <option value="2029">2029</option>
                                                <option value="2028">2028</option>
                                                <option value="2027">2027</option>
                                                <option value="2026">2026</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>

                                <div class="ios-section-title">Packages</div>
                                <div class="ios-grid-2">
                                    <label class="ios-card-item">
                                        <div class="card-content">
                                            <span class="row-main">Alikabok ng Ulap</span>
                                            <span class="row-sub">‚Ç±50 (Flour & Water)</span>
                                        </div>
                                        <div class="check-container">
                                            <input type="checkbox" class="pkg-check" value="alikabok" data-price="50"
                                                onchange="calculateLiveTotal()">
                                            <div class="checkmark-circle"></div>
                                        </div>
                                    </label>
                                    <label class="ios-card-item">
                                        <div class="card-content">
                                            <span class="row-main">Ang Huling Banlaw</span>
                                            <span class="row-sub">‚Ç±70 (Diluted Detergent)</span>
                                        </div>
                                        <div class="check-container">
                                            <input type="checkbox" class="pkg-check" value="hulingbanlaw"
                                                data-price="70" onchange="calculateLiveTotal()">
                                            <div class="checkmark-circle"></div>
                                        </div>
                                    </label>
                                    <label class="ios-card-item">
                                        <div class="card-content">
                                            <span class="row-main">Panlasang Aswang</span>
                                            <span class="row-sub">‚Ç±130 (Soy Sauce, Patis, Oil)</span>
                                        </div>
                                        <div class="check-container">
                                            <input type="checkbox" class="pkg-check" value="cook" data-price="130"
                                                onchange="calculateLiveTotal()">
                                            <div class="checkmark-circle"></div>
                                        </div>
                                    </label>
                                    <label class="ios-card-item">
                                        <div class="card-content">
                                            <span class="row-main">Ang Tamis ng Huling Pagkakataon</span>
                                            <span class="row-sub">‚Ç±200 (Milk, Cream, Confetti)</span>
                                        </div>
                                        <div class="check-container">
                                            <input type="checkbox" class="pkg-check" value="icecream" data-price="200"
                                                onchange="calculateLiveTotal()">
                                            <div class="checkmark-circle"></div>
                                        </div>
                                    </label>
                                    <label class="ios-card-item full-width">
                                        <div class="card-content">
                                            <span class="row-main">Pinturang Alitaptap</span>
                                            <span class="row-sub">‚Ç±250 (Ketchup, Mayo, Mustard)</span>
                                        </div>
                                        <div class="check-container">
                                            <input type="checkbox" class="pkg-check" value="hotdog" data-price="250"
                                                onchange="calculateLiveTotal()">
                                            <div class="checkmark-circle"></div>
                                        </div>
                                    </label>
                                </div>

                                <div class="ios-section-title">Sariling Saya</div>
                                <div class="ios-grid-3">
                                    <label class="ios-mini-card">
                                        <input type="checkbox" class="ingredient-check mix-check" value="Flour"
                                            data-price="35" onchange="calculateLiveTotal()">
                                        <div class="checkmark-circle small"></div>
                                        <span class="mini-label">Flour (+‚Ç±35)</span>
                                    </label>
                                    <label class="ios-mini-card">
                                        <input type="checkbox" class="ingredient-check mix-check" value="Soy Sauce"
                                            data-price="60" onchange="calculateLiveTotal()">
                                        <div class="checkmark-circle small"></div>
                                        <span class="mini-label">Soy Sauce (+‚Ç±60)</span>
                                    </label>
                                    <label class="ios-mini-card">
                                        <input type="checkbox" class="ingredient-check mix-check" value="Fish Sauce"
                                            data-price="60" onchange="calculateLiveTotal()">
                                        <div class="checkmark-circle small"></div>
                                        <span class="mini-label">Fish Sauce (+‚Ç±60)</span>
                                    </label>
                                    <label class="ios-mini-card">
                                        <input type="checkbox" class="ingredient-check mix-check" value="Vinegar"
                                            data-price="35" onchange="calculateLiveTotal()">
                                        <div class="checkmark-circle small"></div>
                                        <span class="mini-label">Vinegar (+‚Ç±35)</span>
                                    </label>
                                    <label class="ios-mini-card">
                                        <input type="checkbox" class="ingredient-check mix-check" value="Confetti"
                                            data-price="35" onchange="calculateLiveTotal()">
                                        <div class="checkmark-circle small"></div>
                                        <span class="mini-label">Confetti (+‚Ç±35)</span>
                                    </label>
                                    <label class="ios-mini-card">
                                        <input type="checkbox" class="ingredient-check mix-check" value="Cooking Oil"
                                            data-price="60" onchange="calculateLiveTotal()">
                                        <div class="checkmark-circle small"></div>
                                        <span class="mini-label">Oil (+‚Ç±60)</span>
                                    </label>
                                    <label class="ios-mini-card">
                                        <input type="checkbox" class="ingredient-check mix-check" value="Whipped Cream"
                                            data-price="60" onchange="calculateLiveTotal()">
                                        <div class="checkmark-circle small"></div>
                                        <span class="mini-label">W. Cream (+‚Ç±60)</span>
                                    </label>
                                    <label class="ios-mini-card">
                                        <input type="checkbox" class="ingredient-check mix-check" value="Ketchup"
                                            data-price="60" onchange="calculateLiveTotal()">
                                        <div class="checkmark-circle small"></div>
                                        <span class="mini-label">Ketchup (+‚Ç±60)</span>
                                    </label>
                                    <label class="ios-mini-card">
                                        <input type="checkbox" class="ingredient-check mix-check" value="Mayo"
                                            data-price="60" onchange="calculateLiveTotal()">
                                        <div class="checkmark-circle small"></div>
                                        <span class="mini-label">Mayo (+‚Ç±60)</span>
                                    </label>
                                    <label class="ios-mini-card">
                                        <input type="checkbox" class="ingredient-check mix-check" value="Mustard"
                                            data-price="60" onchange="calculateLiveTotal()">
                                        <div class="checkmark-circle small"></div>
                                        <span class="mini-label">Mustard (+‚Ç±60)</span>
                                    </label>
                                    <label class="ios-mini-card">
                                        <input type="checkbox" class="ingredient-check mix-check" value="Milk"
                                            data-price="60" onchange="calculateLiveTotal()">
                                        <div class="checkmark-circle small"></div>
                                        <span class="mini-label">Milk (+‚Ç±60)</span>
                                    </label>
                                    <label class="ios-mini-card">
                                        <input type="checkbox" class="ingredient-check mix-check" value="Laundry Powder"
                                            data-price="35" onchange="calculateLiveTotal()">
                                        <div class="checkmark-circle small"></div>
                                        <span class="mini-label">L. Powder (+‚Ç±35)</span>
                                    </label>
                                </div>

                                <div class="ios-section-title">Extras</div>
                                <div class="ios-grid-2">
                                    <label class="ios-card-item full-width">
                                        <div class="card-content">
                                            <span class="row-main">Ang Paghihiganti</span>
                                            <span class="row-sub">‚Ç±10 (Be The Dumper)</span>
                                        </div>
                                        <div class="check-container">
                                            <input type="checkbox" class="ingredient-check" value="Dumper"
                                                data-price="10" onchange="calculateLiveTotal()">
                                            <div class="checkmark-circle"></div>
                                        </div>
                                    </label>
                                </div>

                                <div class="ios-section-title">For The Target</div>
                                <div class="ios-grid-2">
                                    <label class="ios-card-item full-width">
                                        <div class="card-content">
                                            <span class="row-main">Garlic Clove</span>
                                            <span class="row-sub" id="garlic-price-display">Package + ‚Ç±20</span>
                                        </div>
                                        <div class="check-container">
                                            <input type="checkbox" id="garlic-checkbox" class="garlic-check"
                                                value="Garlic Clove" onchange="calculateLiveTotal()">
                                            <div class="checkmark-circle"></div>
                                        </div>
                                    </label>
                                </div>
                                <div class="ios-grid-3">
                                    <label class="ios-mini-card">
                                        <input type="checkbox" class="ingredient-check" value="Rinse" data-price="15"
                                            onchange="calculateLiveTotal()">
                                        <div class="checkmark-circle small"></div>
                                        <span class="mini-label">Rinse (‚Ç±15)</span>
                                    </label>
                                    <label class="ios-mini-card">
                                        <input type="checkbox" class="ingredient-check" value="Goggles" data-price="30"
                                            onchange="calculateLiveTotal()">
                                        <div class="checkmark-circle small"></div>
                                        <span class="mini-label">Goggles (‚Ç±30)</span>
                                    </label>
                                    <label class="ios-mini-card">
                                        <input type="checkbox" class="ingredient-check" value="Raincoats"
                                            data-price="40" onchange="calculateLiveTotal()">
                                        <div class="checkmark-circle small"></div>
                                        <span class="mini-label">Raincoats (‚Ç±40)</span>
                                    </label>
                                </div>

                                <div class="ios-section-title">Conclusion</div>
                                <div class="ios-list">
                                    <div class="ios-row">
                                        <label>Status</label>
                                        <div class="select-wrapper">
                                            <select id="status" required class="ios-select">
                                                <option value="Chase">Chase</option>
                                                <option value="Assassinated">Assassinated</option>
                                                <option value="Bailed">Bailed</option>
                                                <option value="Not Found">Not Found</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="ios-row">
                                        <textarea id="notes" rows="3" placeholder="Additional details..."></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="form-footer">
                                <div class="total-bar">
                                    <span>Total</span>
                                    <span id="live-total">‚Ç±0</span>
                                </div>
                                <div class="action-buttons">
                                    <button type="submit" id="submit-btn" class="primary-btn">Complete
                                        Transaction</button>
                                    <button type="button" id="cancel-btn" class="secondary-btn hidden"
                                        onclick="cancelEdit()">Cancel</button>
                                </div>
                                <div id="delete-section" class="delete-section hidden">
                                    <button type="button" class="delete-btn" onclick="confirmDelete()">Delete
                                        Transaction</button>
                                </div>
                            </div>
                        </form>
                    </div>

                    <div class="history-column">
                        <div class="card history-card">
                            <div class="history-header-group">
                                <h3>History</h3>
                                <div class="search-container">
                                    <span class="search-icon">üîç</span>
                                    <input type="text" id="search-input" placeholder="Search..."
                                        oninput="searchTransactions()">
                                </div>
                                <div class="segment-control">
                                    <button class="segment-btn active" id="search-btn-name"
                                        onclick="setSearchMode('name')">Name</button>
                                    <button class="segment-btn" id="search-btn-batch"
                                        onclick="setSearchMode('batch')">Batch</button>
                                    <button class="segment-btn" id="search-btn-status"
                                        onclick="setSearchMode('status')">Status</button>
                                </div>
                            </div>
                            <div class="history-list" id="transaction-list">
                                <div class="empty-state">No transactions yet.</div>
                            </div>
                            <div class="pagination-controls" id="pagination">
                                <button class="page-btn" id="prev-page" onclick="changePage(-1)">Previous</button>
                                <span class="page-info" id="page-info">Page 1 of 1</span>
                                <button class="page-btn" id="next-page" onclick="changePage(1)">Next</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="tab-materials" class="tab-content">
                <header class="tab-header">
                    <h2>Materials Tracker</h2>
                </header>
                <div class="card table-card">
                    <table class="materials-table">
                        <thead>
                            <tr>
                                <th>Material</th>
                                <th class="text-right">Unit Price</th>
                                <th class="text-right">Bought</th>
                                <th class="text-right">Finished</th>
                                <th class="text-right">Buy More</th>
                                <th class="text-right">To Buy</th>
                                <th class="text-right">Est. Cost</th>
                            </tr>
                        </thead>
                        <tbody id="materials-body"></tbody>
                    </table>
                </div>
            </div>

            <div id="tab-debt" class="tab-content">
                <header class="tab-header">
                    <h2>Debt Tracker</h2>
                </header>
                <div class="debt-wrapper">
                    <div class="debt-card">
                        <div class="debt-header">Remaining Debt</div>
                        <div class="debt-amount" id="debt-amount">‚Ç±32,300</div>
                        <div class="progress-bg">
                            <div class="progress-fill" id="debt-progress"></div>
                        </div>
                        <div class="debt-stats">
                            <div class="stat-item">
                                <span class="stat-label">Goal</span>
                                <span class="stat-val">‚Ç±32,300</span>
                            </div>
                            <div class="stat-item text-right">
                                <span class="stat-label">Paid (Revenue)</span>
                                <span class="stat-val" id="debt-paid">‚Ç±0</span>
                            </div>
                        </div>
                        <div id="profit-message" class="hidden">üéâ We are in profit!</div>
                    </div>
                </div>
            </div>

            <div id="tab-reminders" class="tab-content">
                <header class="tab-header">
                    <h2>Cashier Reminders</h2>
                </header>
                <div class="card reminder-text-card">
                    <div class="reminder-section">
                        <h3>Frequently Asked Questions</h3>
                        <div class="qa-item">
                            <div class="qa-question">Is there a limit to assassination?</div>
                            <div class="qa-answer">There are NO LIMITS to assassinating somebody and in bailing.</div>
                        </div>
                        <div class="qa-item">
                            <div class="qa-question">What if the target cannot be found?</div>
                            <div class="qa-answer">Prioritize persuading the client to pick somebody else. If they do
                                not want to, refund HALF of what they paid.</div>
                        </div>
                        <div class="qa-item">
                            <div class="qa-question">What if an ingredient is out of stock?</div>
                            <div class="qa-answer">Ask the client to pick another ingredient from the add-ons.</div>
                        </div>
                        <div class="qa-item">
                            <div class="qa-question">What about members on shift?</div>
                            <div class="qa-answer">If somebody will be assassinating a member on shift, place their
                                transaction as <strong>"Not Found"</strong> until their shift is over.</div>
                        </div>
                        <div class="qa-item">
                            <div class="qa-question">I have a question about my role/the website. Who can I direct it
                                to?</div>
                            <div class="qa-answer">Please look for a <strong>Strontium Officer</strong> (Keone Robles,
                                Amber Buico, Emma Tancinco, Maggie Tan, and Jairo Reolizo) or a <strong>Booth
                                    Head</strong> (Rei Saquing, Uno Dulay, and Joshua Mallari).</div>
                        </div>
                    </div>
                    <div class="reminder-section">
                        <h3>General Reminders</h3>
                        <ul class="reminder-list">
                            <li>Make sure to get the client's <strong>FULL name</strong> for contacting purposes.</li>
                            <li>Make sure the chit box is organized at all times. The total revenue should match the
                                chit box's current value.</li>
                            <li>The only valid reason to leave your post is if you need to go to the CR.</li>
                            <li>If your device can no longer be used, save your data file (Export JSON) and send it the
                                server with the caption <code>[TIME] [NAME] Data File]</code>. Do not change the file
                                name.</li>
                            <li>If the sending cannot persist, please send a screenshot of the full history and the
                                total revenue and send it in the server with the caption
                                <code>[TIME] [NAME] Screenshots</code>. Do not change the file name.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <div id="ios-modal-overlay" class="ios-modal-overlay hidden">
        <div class="ios-modal">
            <h3 id="modal-title">Alert</h3>
            <p id="modal-message">Message text goes here.</p>
            <div class="modal-actions" id="modal-actions">
                <button onclick="closeModal()">OK</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>